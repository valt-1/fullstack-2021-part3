{"version":3,"sources":["services/persons.js","components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","persons","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","Filter","filterStr","handleFilterStrChange","value","onChange","Notification","message","style","color","background","borderRadius","padding","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","Persons","map","App","useState","setPersons","setNewName","setNewNumber","setFilterStr","notification","setNotification","useEffect","personService","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","nameMatches","length","window","confirm","find","p","changedPerson","returnedPerson","catch","error","alert","personObject","concat","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e3c9007b.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst persons = { getAll, create, update, remove }\nexport default persons\n","import React from 'react'\n\nconst Filter = ({ filterStr, handleFilterStrChange }) => {\n  return (\n    <p>\n      filter shown with \n      <input \n        value={filterStr}\n        onChange={handleFilterStrChange}\n      />\n    </p>\n  )\n}  \n\nexport default Filter\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const style = {\n    color: 'seagreen',\n    background: 'aquamarine',\n    borderRadius: 10,\n    padding: 8\n  }\n  \n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={style}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name: \n        <input \n          value={props.newName}\n          onChange={props.handleNameChange}\n        />\n      </div>\n      <div>\n        number: \n        <input \n          value={props.newNumber}\n          onChange={props.handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <li>\n      {person.name} {person.number}\n      <button onClick={deletePerson}>delete</button>\n    </li>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, deletePerson }) => {\n  return (\n    <ul>\n      {persons.map(person =>\n        <Person\n          key={person.name}\n          person={person}\n          deletePerson={() => deletePerson(person.id)}\n        />)}\n    </ul>\n  )\n}\n\nexport default Persons\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterStr, setFilterStr ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(persons => setPersons(persons))\n  }\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (newName === '' || newNumber === '') {\n      alert('Please enter a name and a number')\n      return\n    }\n    const nameMatches = persons.filter(person => \n      person.name.toLowerCase() === newName.toLowerCase())\n    if (nameMatches.length > 0) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name.toLowerCase() === newName.toLowerCase())\n        const id = person.id\n        const changedPerson = { ...person, number: newNumber }\n        personService\n          .update(id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          })\n          .catch(error => {\n            alert(`${person.name} was already deleted from server`)\n            setPersons(persons.filter(p => p.id !== id))\n        })\n      }\n      setNewName('')\n      setNewNumber('')\n      return\n    }\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    personService\n      .create(personObject)\n      .then(person => {\n        setPersons(persons.concat(person))\n        setNotification(`Added ${person.name}`)\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterStrChange = (event) => {\n    setFilterStr(event.target.value)\n  }\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filterStr.toLowerCase()))\n\n  const deletePerson = (id) => {\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n      .remove(id)\n      .then(setPersons(persons.filter(p => p.id !== id)))\n      .catch(error => {\n        alert(`${person.name} was already deleted from server`)\n        setPersons(persons.filter(p => p.id !== id))\n      })\n      \n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter\n        filterStr={filterStr}\n        handleFilterStrChange={handleFilterStrChange}\n      />\n      <h3>Add new</h3>\n      <Notification message={notification} />\n      <PersonForm \n        persons={persons}\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={personsToShow}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}